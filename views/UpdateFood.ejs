<!--Elden-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Update Food</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
        body, html {
            height: 100%;
            background-image: linear-gradient(lime, blue);
        }
    </style>
  </head>
  <body>
    <div class="container py-5">
      <!-- Left-aligned heading -->
      <h1 class="mb-4">Update Food</h1>

      <!-- Centered content starts here -->
      <div class="d-flex justify-content-center">
        <div class="w-100" style="max-width: 800px;">
          <% if (messages && messages.length) { %>
          <div class="alert alert-danger">
            <% messages.forEach(function(msg) { %>
              <p><%= msg %></p>
            <% }); %>
          </div>
          <% } %>

          <form
            action="/updateFood/<%= food.foodID %>"
            method="POST"
            class="row g-3"
          >
            <div class="col-12">
              <label class="form-label">Food Name</label>
              <input
                type="text"
                name="food_name"
                class="form-control"
                maxlength="45"
                required
                value="<%= food.food_name %>"
              />
            </div>

            <div class="col-12">
              <label class="form-label">Carbs (g)</label>
              <input
                type="number"
                name="carbs"
                class="form-control"
                required
                value="<%= food.carbs %>"
              />
            </div>

            <div class="col-12">
              <label class="form-label">Protein (g)</label>
              <input
                type="number"
                name="protein"
                class="form-control"
                required
                value="<%= food.protein %>"
              />
            </div>

            <div class="col-12">
              <label class="form-label">Fats (g)</label>
              <input
                type="number"
                name="fats"
                class="form-control"
                required
                value="<%= food.fats %>"
              />
            </div>

            <div class="col-12">
              <label class="form-label">Calories</label>
              <input
                type="number"
                name="calories"
                class="form-control"
                required
                value="<%= food.calories %>"
              />
            </div>

            <div class="col-12">
              <label class="form-label">Image</label>
              <% if (food.imageUrl) { %>
              <div class="mb-2">
                <img
                  src="<%= food.imageUrl %>"
                  alt="Current Image"
                  style="max-width: 200px; max-height: 200px"
                />
              </div>
              <% } %>
              <input
                type="file"
                name="foodImage"
                class="form-control"
                accept="image/*"
              />
            </div>

            <div class="col-12 text-center">
              <button class="btn btn-success">Save</button>
              <a href="/dashboard" class="btn btn-secondary ms-2">Cancel</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
